<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weekly Pitcher Watch</title>
</head>
<body style="background:#111827; font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif; margin:0; padding:0;">

  <div style="max-width:600px; margin:40px auto; background:#1f2937; border-radius:8px; overflow:hidden; box-shadow:0 4px 24px rgba(0,0,0,0.4);">

    <!-- ── Header ───────────────────────────────────────────────────────── -->
    <div style="background:#1d4ed8; padding:28px 32px;">
      <h1 style="color:#ffffff; margin:0; font-size:22px; font-weight:700; letter-spacing:-0.3px;">
        ⚾ Weekly Pitcher Watch
      </h1>
      <p style="color:#bfdbfe; margin:6px 0 0; font-size:13px;">
        Your personalized pitcher digest — {{ send_date }}
      </p>
    </div>

    <!-- ── Body ─────────────────────────────────────────────────────────── -->
    <div style="padding:28px 32px;">

      <p style="color:#d1d5db; font-size:14px; margin:0 0 20px; line-height:1.6;">
        Hi there! Here's a look at the pitchers you're watching this week.
        Click any name to open the app and run a full trend analysis.
      </p>

      {% if pitchers %}
      <!-- Pitcher table -->
      <table style="width:100%; border-collapse:collapse; margin-bottom:24px;">
        <thead>
          <tr>
            <th style="padding:8px 12px; text-align:left; color:#9ca3af; font-size:11px;
                       font-weight:600; text-transform:uppercase; letter-spacing:0.05em;
                       border-bottom:1px solid #374151;">
              Pitcher
            </th>
            <th style="padding:8px 12px; text-align:right; color:#9ca3af; font-size:11px;
                       font-weight:600; text-transform:uppercase; letter-spacing:0.05em;
                       border-bottom:1px solid #374151;">
              View
            </th>
          </tr>
        </thead>
        <tbody>
          {% for pitcher in pitchers %}
          <tr>
            <td style="padding:10px 12px; color:#f9fafb; font-size:14px;
                       border-bottom:1px solid #374151;">
              {{ pitcher.pitcher_name }}
            </td>
            <td style="padding:10px 12px; text-align:right; border-bottom:1px solid #374151;">
              <a href="{{ app_url }}"
                 style="color:#60a5fa; font-size:13px; text-decoration:none; font-weight:500;">
                Analyze →
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      {% else %}
      <!-- Empty state -->
      <div style="background:#111827; border:1px dashed #374151; border-radius:6px;
                  padding:20px; text-align:center; margin-bottom:24px;">
        <p style="color:#6b7280; font-size:14px; margin:0;">
          You haven't saved any pitchers yet.<br>
          Open the app and click ☆ Watch on any pitcher to start tracking.
        </p>
      </div>
      {% endif %}

      <!-- CTA button -->
      <a href="{{ app_url }}"
         style="display:inline-block; background:#1d4ed8; color:#ffffff; padding:11px 22px;
                border-radius:6px; text-decoration:none; font-size:14px; font-weight:600;
                letter-spacing:0.01em;">
        Open Pitcher Analyzer
      </a>

    </div>

    <!-- ── Footer ────────────────────────────────────────────────────────── -->
    <div style="padding:16px 32px; background:#111827; border-top:1px solid #374151;">
      <p style="color:#6b7280; font-size:12px; margin:0; line-height:1.6;">
        You're receiving this because you enabled weekly notifications in Pitcher Trend Analyzer.<br>
        To unsubscribe, turn off notifications in your account settings.
      </p>
    </div>

  </div>

</body>
</html>
